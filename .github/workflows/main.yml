name: VMC CI/CD Pipeline

on: [push]

jobs:
  build:

    runs-on: windows-latest

    steps:
      - name: Checkout SourceCode
        uses: actions/checkout@v1
        
      - name: Prepare Env
        run: dotnet tool install --global dotnet-sonarscanner --version 4.8.0
        
      - name: Anayze
        run: |
            SonarQube.Scanner.MSBuild.exe begin /k:"org.sonarqube:sonarqube-scanner-msbuild" /n:"VirtualMotionCapture Analysis" /v:"1.0"
            MSBuild.exe ControlWindowWPF\ControlWindowWPF.sln
            SonarQube.Scanner.MSBuild.exe end
